(this.webpackJsonppersonaltodo=this.webpackJsonppersonaltodo||[]).push([[0],{15:function(e,t,n){e.exports=n(28)},20:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(8),o=n(0),r=n.n(o),c=n(7),l=(n(20),n(3)),u=n(1);n(26);var i=Object(u.b)()((function(e){var t,n=e.dispatch;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){(e.preventDefault(),null!==t&&t.value.trim())&&(n({type:"PROJECT_ADD",payload:{projectId:t.value,title:t.value}}),t.value="")}},r.a.createElement("input",{ref:function(e){return t=e}}),r.a.createElement("button",{type:"submit"},"Add Project")))}));var s=Object(u.b)()((function(e){var t,n,o=e.dispatch;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){var r,c;(e.preventDefault(),null!==t&&t.value.trim())&&(o((c={todoId:t.value,title:t.value,projectIds:[],dueDate:null===(r=n)||void 0===r?void 0:r.value,completedDate:null},function(e){var t={call:"plugin_personaltodo",action:"saveTodo",title:c.title,dueDate:c.dueDate},n=Object.entries(t).map((function(e){var t=Object(a.a)(e,2),n=t[0],o=t[1];return"".concat(n,"=").concat(o)})).join("&");return fetch("http://127.0.0.1/~michael/dokuwiki/lib/exe/ajax.php?"+n,{mode:"cors"}).then((function(){e(function(e){return{type:"TODO_ADD",payload:e}}(c))})).catch(console.error)})),t.value="")}},r.a.createElement("input",{required:!0,ref:function(e){return t=e}}),r.a.createElement("input",{type:"date",ref:function(e){return n=e}}),r.a.createElement("button",{type:"submit"},"Add Todo")))})),d=function(e){var t=e.title;return r.a.createElement("li",null,t)},p=function(e){var t=e.projects;return r.a.createElement("ul",null,Object.values(t).map((function(e){return r.a.createElement(d,Object.assign({key:e.id},e))})))},m=Object(u.b)((function(e){return{projects:e.projects}}))(p),j=function(e){var t=e.title;return r.a.createElement("span",{className:"tag is-light is-info"},t)},f=(n(27),function(e){var t=e.projectIds,n=e.projects,a=t.map((function(e){return n[e]?n[e]:{projectId:e,title:e}}));return r.a.createElement("ul",{className:"TodoProjectsDisplay"},a.map((function(e){return r.a.createElement("li",{className:"TodoProjectsDisplay__project",key:e.projectId},r.a.createElement(j,e))})))}),v=function(e){var t=e.dueDate,n=e.title,a=e.projectIds,o=e.projects;return r.a.createElement("li",null,n," ",t," ",r.a.createElement(f,{projectIds:a,projects:o}))},E=function(e){var t=e.todos,n=e.projects;return r.a.createElement("ul",null,Object.values(t).map((function(e){return r.a.createElement(v,Object.assign({key:e.id},e,{projects:n}))})))},O=Object(u.b)((function(e){return{todos:e.todos,projects:e.projects}}))(E),b=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(s,null),r.a.createElement(m,null),r.a.createElement(i,null))},h=n(4),I=n(6);var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROJECT_ADD":return Object(I.a)({},e,Object(h.a)({},t.payload.projectId,t.payload));case"INITIALIZE":return t.payload.projects;default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TODO_ADD":return Object(I.a)({},e,Object(h.a)({},t.payload.todoId,t.payload));case"TODO_COMPLETE":return Object(I.a)({},e,Object(h.a)({},t.todoId,Object(I.a)({},e[t.todoId],{completedDate:t.date})));case"INITIALIZE":return t.payload.todos;default:return e}},_=Object(l.c)({projects:D,todos:y});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=n(14),g=Object(l.e)(_,Object(l.d)(Object(l.a)(T.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),w=Object.entries({call:"plugin_personaltodo",action:"getdata"}).map((function(e){var t=Object(a.a)(e,2),n=t[0],o=t[1];return"".concat(n,"=").concat(o)})).join("&");fetch("http://127.0.0.1/~michael/dokuwiki/lib/exe/ajax.php?"+w,{mode:"cors"}).then((function(e){return e.json()})).then((function(e){console.log(e),g.dispatch({type:"INITIALIZE",payload:e})})).catch(console.error),Object(c.render)(r.a.createElement(u.a,{store:g},r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.45687eac.chunk.js.map